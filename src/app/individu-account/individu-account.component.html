<div class="main-div">
  <app-header-info></app-header-info>
  <mat-card *ngIf="individu" class="container m-5 text-center">
    <h2 class="card-title mb-5">{{WORDING.individu_account.title}} </h2>
    <div class="alert alert-danger w-100" *ngIf="displayErrorMsg" role="alert">
     {{WORDING.problem}}
    </div>

    <br>

    <a (click)="prepareclickedPic()" title="select your picture"> <img class="roundedImage" [src]="displayUserPic()"
                                                                       alt="1"/> </a>
    <input id="imgupload" type="file" (change)="onUploadChange($event)" accept=".png, .jpg, .jpeg"
           style="display:none"/>
    <div class="d-flex justify-content-center w-100">
      <img class="startSize" *ngIf="individu.niveau > 1" [src]="star"/>
      <img class="startSize" *ngIf="individu.niveau > 2" [src]="star"/>
      <img class="startSize" *ngIf="individu.niveau > 3" [src]="star"/>
    </div>

    <div class="d-flex justify-content-start w-100">
      <div class="p-2 w-50">

        <mat-form-field floatLabel="never" class="row mb-4 w-100" title="{{WORDING.individu.attributs.lastName}}" >
          <input type="text" [disabled]="true" matInput placeholder="{{WORDING.individu.attributs.lastName}}" [(ngModel)]="individu.nom" required>
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
             <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field floatLabel="never" class="row mb-4 w-100" title="{{WORDING.individu.attributs.firstName}}" >
          <input type="text" [disabled]="true" matInput placeholder="{{WORDING.individu.attributs.firstName}}" [(ngModel)]="individu.prenom" required
                 name="prenom">
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
            <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field floatLabel="never" class="row mb-4 w-100" title="{{WORDING.individu.attributs.email}}" >
          <input type="email" matInput [disabled]="true" placeholder="{{WORDING.individu.attributs.email}}" [(ngModel)]="individu.email" required
                 name="email">
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
            <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field floatLabel="never" class="row mb-5 w-100" title="{{WORDING.individu.attributs.bornDate}}" >
          <input type="date" [disabled]="true" matInput placeholder="{{WORDING.individu.attributs.bornDate}}"
                 [(ngModel)]="individu.date_naissance" required
                 name="dateNaissance">
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
            <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field floatLabel="never" class="row mb-4 w-100" title="{{WORDING.individu.attributs.tel}}" >
          <input type="text" required matInput placeholder="{{WORDING.individu.attributs.tel}}" [(ngModel)]="individu.numeroTel"
                 name="telephone">
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
            <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field floatLabel="never" class="row mb-4 w-100" title="{{WORDING.individu.attributs.address}}" >
          <input type="text" required matInput placeholder="{{WORDING.individu.attributs.address}}" [(ngModel)]="individu.adresse"
                 name="Adresse">
          <mat-error class="text-danger" *ngIf="nameFormControl.hasError('required')">
            <strong>{{WORDING.individu_account.mondatory}}</strong>
          </mat-error>
        </mat-form-field>

      </div>

      <div class="p-2 pt-5 w-50">
          <span
            class="mx-auto mt-5 text-capitalize"> {{WORDING.individu_account.sous_date}}: {{individu.date_ceation | date: 'dd/MM/yyyy'}}</span>
        <div>
          <div class="mt-3">
            <span class="text-danger"
                  *ngIf="individu.statut == 'attente'">{{WORDING.individu_account.account_status.waiting}}</span>
            <span class="text-info" *ngIf="individu.statut == 'active'">{{WORDING.individu_account.account_status.active}}</span>
            <span class="text-danger" *ngIf="individu.statut == 'bloque'">{{WORDING.individu_account.account_status.blocked}}</span>
            <span class="text-danger" *ngIf="individu.statut == 'resilie'">{{WORDING.individu_account.account_status.canceled}}</span>
            <img class="verifiedImgSize " *ngIf="individu.statut == 'active' && individu.niveau > 2"
                 [src]="verifiedLogo"/>
          </div>
        </div>
      </div>
    </div>

    <div class="mb-5 w-100">
      <button class="btn btn-success w-100" type="submit" (click)="updateIndividuAccountInformations()">{{WORDING.dialog.button.confirm}}</button>
      <div class="mt-3"><a routerLink="/" class="text-center text-capitalize text-dark">{{WORDING.dialog.button.concel}}</a></div>
    </div>

  </mat-card>
</div>


